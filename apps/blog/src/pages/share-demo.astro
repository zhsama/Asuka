---
// 分享组件示例页面
import ShareButton from "../components/Share/ShareButton.astro";
import BaseLayout from "../layouts/BaseLayout.astro";

// 示例文章数据
const exampleArticle = {
  title: "Asuka博客分享功能介绍",
  url: "/share-demo",
  description: "了解如何使用Asuka博客的全新分享功能，支持多平台分享和原生分享API。",
  image: "/banner/header.png",
  author: "Asuka Team",
  tags: ["分享", "社交媒体", "React"],
};

// UTM配置示例
const utmConfig = {
  source: "demo",
  medium: "social",
  campaign: "share_feature_launch",
};
---

<BaseLayout title="分享功能演示">
  <main class="demo-container">
    <div class="demo-header">
      <h1>分享功能演示</h1>
      <p>测试Asuka博客的分享组件功能</p>
    </div>

    <section class="demo-section">
      <h2>基础分享按钮</h2>
      <div class="demo-item">
        <ShareButton {...exampleArticle} />
        <pre class="code-block"><code>{`<ShareButton
  title="文章标题"
  url="/article-url"
  description="文章描述"
/>`}</code></pre>
      </div>
    </section>

    <section class="demo-section">
      <h2>带统计的分享按钮</h2>
      <div class="demo-item">
        <ShareButton {...exampleArticle} showStats={true} />
        <pre class="code-block"><code>{`<ShareButton
  {...articleData}
  showStats={true}
/>`}</code></pre>
      </div>
    </section>

    <section class="demo-section">
      <h2>自定义样式</h2>
      <div class="demo-item">
        <ShareButton {...exampleArticle} className="custom-share-button" />
        <pre class="code-block"><code>{`<ShareButton
  {...articleData}
  className="custom-share-button"
/>`}</code></pre>
      </div>
    </section>

    <section class="demo-section">
      <h2>不同主题效果</h2>
      <div class="theme-demos">
        <div class="theme-demo theme-eva01">
          <h3>EVA-01 主题</h3>
          <ShareButton {...exampleArticle} />
        </div>
        <div class="theme-demo theme-eva02">
          <h3>EVA-02 主题</h3>
          <ShareButton {...exampleArticle} />
        </div>
        <div class="theme-demo theme-eva00">
          <h3>EVA-00 主题</h3>
          <ShareButton {...exampleArticle} />
        </div>
      </div>
    </section>

    <section class="demo-section">
      <h2>移动端效果</h2>
      <div class="mobile-preview">
        <div class="mobile-frame">
          <ShareButton {...exampleArticle} />
        </div>
        <p class="demo-note">在移动设备上会自动使用原生分享API</p>
      </div>
    </section>

    <section class="demo-section">
      <h2>UTM追踪配置</h2>
      <div class="demo-item">
        <ShareButton {...exampleArticle} utmConfig={utmConfig} />
        <pre class="code-block"><code>{`<ShareButton
  {...articleData}
  utmConfig={{
    source: 'demo',
    medium: 'social',
    campaign: 'share_feature_launch'
  }}
/>`}</code></pre>
      </div>
    </section>

    <section class="demo-section">
      <h2>支持的平台</h2>
      <div class="platforms-grid">
        <div class="platform-card">
          <div class="platform-icon wechat">微信</div>
          <p>扫码分享</p>
        </div>
        <div class="platform-card">
          <div class="platform-icon weibo">微博</div>
          <p>一键分享</p>
        </div>
        <div class="platform-card">
          <div class="platform-icon twitter">Twitter</div>
          <p>推文分享</p>
        </div>
        <div class="platform-card">
          <div class="platform-icon facebook">Facebook</div>
          <p>动态分享</p>
        </div>
        <div class="platform-card">
          <div class="platform-icon linkedin">LinkedIn</div>
          <p>专业分享</p>
        </div>
        <div class="platform-icon clipboard">
          <div class="platform-icon clipboard">复制链接</div>
          <p>快速复制</p>
        </div>
      </div>
    </section>
  </main>

  <style>
    /* 引入分享组件样式 */
    @import '../components/Share/styles/share.css';

    .demo-container {
      max-width: 1024px;
      margin: 0 auto;
      padding: 2rem;
    }

    .demo-header {
      text-align: center;
      margin-bottom: 4rem;
    }

    .demo-header h1 {
      font-size: 2.5rem;
      font-weight: bold;
      margin-bottom: 1rem;
      color: var(--color-text-1);
    }

    .demo-header p {
      font-size: 1.25rem;
      color: var(--color-text-2);
    }

    .demo-section {
      margin-bottom: 4rem;
    }

    .demo-section h2 {
      font-size: 1.75rem;
      font-weight: semibold;
      margin-bottom: 2rem;
      color: var(--color-text-1);
    }

    .demo-item {
      background: var(--color-bg-1);
      padding: 2rem;
      border-radius: 12px;
      margin-bottom: 1rem;
      display: flex;
      align-items: center;
      gap: 2rem;
    }

    .code-block {
      flex: 1;
      background: var(--color-bg-2);
      padding: 1rem;
      border-radius: 8px;
      overflow-x: auto;
    }

    .code-block code {
      font-family: monospace;
      font-size: 0.875rem;
      color: var(--color-text-2);
    }

    .theme-demos {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 2rem;
    }

    .theme-demo {
      background: var(--color-bg-1);
      padding: 2rem;
      border-radius: 12px;
      text-align: center;
    }

    .theme-demo h3 {
      font-size: 1.25rem;
      margin-bottom: 1rem;
      color: var(--color-text-1);
    }

    .mobile-preview {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 1rem;
    }

    .mobile-frame {
      width: 375px;
      height: 667px;
      background: var(--color-bg-1);
      border: 16px solid var(--color-bg-3);
      border-radius: 36px;
      padding: 1rem;
      position: relative;
      display: flex;
      align-items: flex-end;
      justify-content: flex-end;
    }

    .demo-note {
      color: var(--color-text-3);
      font-size: 0.875rem;
      text-align: center;
    }

    .platforms-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
      gap: 1.5rem;
    }

    .platform-card {
      background: var(--color-bg-1);
      padding: 1.5rem;
      border-radius: 12px;
      text-align: center;
      transition: transform 0.2s;
    }

    .platform-card:hover {
      transform: translateY(-4px);
    }

    .platform-icon {
      width: 48px;
      height: 48px;
      margin: 0 auto 0.5rem;
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
      color: white;
    }

    .platform-icon.wechat {
      background: #07C160;
    }

    .platform-icon.weibo {
      background: #E6162D;
    }

    .platform-icon.twitter {
      background: #1DA1F2;
    }

    .platform-icon.facebook {
      background: #1877F2;
    }

    .platform-icon.linkedin {
      background: #0A66C2;
    }

    .platform-icon.clipboard {
      background: #6B7280;
    }

    .platform-card p {
      color: var(--color-text-2);
      font-size: 0.875rem;
    }

    /* 自定义分享按钮样式示例 */
    .custom-share-button .share-button {
      background: linear-gradient(135deg, var(--color-primary), var(--color-secondary));
      border: none;
      color: white;
      width: 48px;
      height: 48px;
    }

    .custom-share-button .share-button:hover {
      transform: scale(1.1) rotate(5deg);
    }
  </style>

  <script>
    // 监听分享事件
    document.addEventListener('share', (event) => {
      console.log('Share event:', event.detail);
      // 可以在这里添加额外的分析或通知逻辑
    });

    // 监听微信分享请求
    window.addEventListener('wechat-share-request', (event) => {
      console.log('WeChat share requested:', event.detail);
      // 这里可以显示二维码或其他微信分享逻辑
    });
  </script>
</BaseLayout>